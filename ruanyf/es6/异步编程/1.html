<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
function makeRequest(request_url){
    let request={
        method: 'GET',
        url: 'request_url',
        headers: '',
        body: '',
        sync: true,
        responseType: 'text',
        timeout: 3000
    }
    return request
}

function XFetch(request,resolve,reject){
    let xhr=new XMLHttpRequest()
xhr.ontimeout=function(e){
    reject(e)
}

xhr.onerror=function(e){
    reject(e)
}

xhr.onreadystatechange=function(){
    if(xhr.status==200){
        resolve(xhr.response)
    } 
}

xhr.open(request.method,URL,request.sync)
xhr.timeout=request.timeout
xhr.responseType=request.responseType
xhr.send()

}

XFetch(makeRequest('https://time.geekbank.com'),
function resolve(data){
    console.log(data)
},function reject(error){
    console.log(error)
})

    </script>
</body>
</html>