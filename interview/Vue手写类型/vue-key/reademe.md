1. vue中的key是用来干什么的
2. 为什么不推荐用哪个index

# diff
1. 新老节点类型是否相同，如果类型不同，直接销毁旧的Vnode,渲染新的Vnode
2. 如果类型相同，就要尽可能的做到结点复用patchVNode
  - vnode是文字，直接调用浏览器的api把节点直接替换
  - 不是文字
    - 没有old children 有 new children的话，在原来的dom上添加新的子节点
    - 没有 new children 有old children，在原来的dom上删除旧的子节点
    - 有 new children 也有 old children，结点就需要标记


# vue为什么不能用index做key值？
都实现了一套虚拟DOM，使我们可以不直接操作DOM元素，只操作数据便可以重新渲染页面。而隐藏在背后的原理便是其高效的Diff算法。
1. 两个相同的组件产生类似的DOM结构，不同的组件产生不同的DOM结构。
2. 同一层级的一组节点，他们可以通过唯一的id进行区分
vue中用index做key值时，当我们要遍历的对象的值发生改变时，比如删除其中一个结点，该节点后的结点相应的key的绑定关系会变化，以被重新渲染，这会影响性能。如果使用唯一id作为key，后面的元素因为与 key 的关系没有发生变化，都不会被重新渲染，从而达到提升性能的目的。（index）与value值不能同步绑定，节点标记无效，dom结构需要重新渲染，消耗了浏览器性能。

# 为什么要有key值
vue采用diff算法来对比新旧虚拟节点，从而更新节点。在vue的diff函数中，在交叉对比中，当新节点跟旧节点头尾交叉对比没有结果时，会根据新节点的key去对比旧节点数组中的key，从而找到相应旧节点（这里对应的是一个key => index 的map映射）。如果没找到就认为是一个新增节点。而如果没有key，那么就会采用遍历查找的方式去找到对应的旧节点。一种一个map映射，另一种是遍历查找。相比而言。map映射的速度更快。