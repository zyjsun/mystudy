# 变量提升

一段js代码 -->编译阶段-->执行阶段

VariableEnviroment(变量环境)

# 为什么javaScript代码会出现栈溢出
1. js执行全局代码时
2. 当调用一个函数的时候，函数体内的代码会被编译
3. 当使用eval函数时，eval的代码也会被编译，并创建出来执行上下文

- 调用栈：就是用来管理函数调用关系的一种数据结构


# 作用域
ES的作用域只有两种：全局作用域 和 函数作用域 
- 块级作用域{}

- 查找变量先查找词法环境，再查找变量环境

# 作用域链和闭包

- 作用域链
  词法作用域就是指作用域是由代码中的函数声明的位置来决定的，所以词法作用域是静态的作用域。
  词法作用域直接决定作用域链的走向


- 闭包
  在javaScript根据词法作用域的规则，内部函数总是可以访问其外部函数当中声明的变量，
  当通过调用一个外部函数返回的内部函数后，即使该外部函数已经执行结束，但是内部函数引用外部函数的变量仍在内存中，我们
  把这些变量的集合称为闭包。

  闭包的回收：
  1. 如果引用闭包函数的是一个全局变量，那么这个闭包就会一直保存到页面关闭（造成内存泄漏）
  2. 如果引用闭包函数的是一个局部变量，等函数销毁后，js垃圾回收机制下一次到来时，判断闭包这块内容不在使用时，就会回收这段内容。
